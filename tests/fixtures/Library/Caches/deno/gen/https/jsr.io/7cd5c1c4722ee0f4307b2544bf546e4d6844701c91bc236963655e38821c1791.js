// Copyright 2018-2026 the Deno authors. MIT license.
// This module is browser compatible.
/** Default merging options - cached to avoid object allocation on each call */ const DEFAULT_OPTIONS =
  {
    arrays: "merge",
    sets: "merge",
    maps: "merge",
  };
export function deepMerge(record, other, options) {
  return deepMergeInternal(record, other, new Set(), options ?? DEFAULT_OPTIONS);
}
function deepMergeInternal(record, other, seen, options) {
  const result = {};
  const keys = new Set([
    ...getKeys(record),
    ...getKeys(other),
  ]);
  // Iterate through each key of other object and use correct merging strategy
  for (const key of keys) {
    // Skip to prevent Object.prototype.__proto__ accessor property calls on non-Deno platforms
    if (key === "__proto__") {
      continue;
    }
    const a = record[key];
    if (!Object.hasOwn(other, key)) {
      result[key] = a;
      continue;
    }
    const b = other[key];
    if (isNonNullObject(a) && isNonNullObject(b) && !seen.has(a) && !seen.has(b)) {
      seen.add(a);
      seen.add(b);
      result[key] = mergeObjects(a, b, seen, options);
      continue;
    }
    // Override value
    result[key] = b;
  }
  return result;
}
function mergeObjects(left, right, seen, options) {
  // Recursively merge mergeable objects
  if (isMergeable(left) && isMergeable(right)) {
    return deepMergeInternal(left, right, seen, options);
  }
  if (isIterable(left) && isIterable(right)) {
    // Handle arrays
    if (Array.isArray(left) && Array.isArray(right)) {
      if (options.arrays === "merge") {
        return left.concat(right);
      }
      return right;
    }
    // Handle maps
    if (left instanceof Map && right instanceof Map) {
      if (options.maps === "merge") {
        const result = new Map(left);
        for (const [k, v] of right) {
          result.set(k, v);
        }
        return result;
      }
      return right;
    }
    // Handle sets
    if (left instanceof Set && right instanceof Set) {
      if (options.sets === "merge") {
        const result = new Set(left);
        for (const v of right) {
          result.add(v);
        }
        return result;
      }
      return right;
    }
  }
  return right;
}
/**
 * Test whether a value is mergeable or not
 * Builtins that look like objects, null and user defined classes
 * are not considered mergeable (it means that reference will be copied)
 */ function isMergeable(value) {
  return Object.getPrototypeOf(value) === Object.prototype;
}
function isIterable(value) {
  return typeof value[Symbol.iterator] === "function";
}
function isNonNullObject(value) {
  return value !== null && typeof value === "object";
}
function getKeys(record) {
  const keys = Object.keys(record);
  const symbols = Object.getOwnPropertySymbols(record);
  // Fast path: most objects have no symbol keys
  if (symbols.length === 0) return keys;
  for (const sym of symbols) {
    if (Object.prototype.propertyIsEnumerable.call(record, sym)) {
      keys.push(sym);
    }
  }
  return keys;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0BzdGQvY29sbGVjdGlvbnMvMS4xLjUvZGVlcF9tZXJnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDI2IHRoZSBEZW5vIGF1dGhvcnMuIE1JVCBsaWNlbnNlLlxuLy8gVGhpcyBtb2R1bGUgaXMgYnJvd3NlciBjb21wYXRpYmxlLlxuXG4vKiogRGVmYXVsdCBtZXJnaW5nIG9wdGlvbnMgLSBjYWNoZWQgdG8gYXZvaWQgb2JqZWN0IGFsbG9jYXRpb24gb24gZWFjaCBjYWxsICovXG5jb25zdCBERUZBVUxUX09QVElPTlM6IERlZXBNZXJnZU9wdGlvbnMgPSB7XG4gIGFycmF5czogXCJtZXJnZVwiLFxuICBzZXRzOiBcIm1lcmdlXCIsXG4gIG1hcHM6IFwibWVyZ2VcIixcbn07XG5cbi8qKlxuICogTWVyZ2VzIHRoZSB0d28gZ2l2ZW4gcmVjb3JkcywgcmVjdXJzaXZlbHkgbWVyZ2luZyBhbnkgbmVzdGVkIHJlY29yZHMgd2l0aCB0aGVcbiAqIHNlY29uZCBjb2xsZWN0aW9uIG92ZXJyaWRpbmcgdGhlIGZpcnN0IGluIGNhc2Ugb2YgY29uZmxpY3QuXG4gKlxuICogRm9yIGFycmF5cywgbWFwcyBhbmQgc2V0cywgYSBtZXJnaW5nIHN0cmF0ZWd5IGNhbiBiZSBzcGVjaWZpZWQgdG8gZWl0aGVyXG4gKiBgcmVwbGFjZWAgdmFsdWVzLCBvciBgbWVyZ2VgIHRoZW0gaW5zdGVhZC5cbiAqXG4gKiBAdHlwZVBhcmFtIFQgVHlwZSBvZiB0aGUgZmlyc3QgcmVjb3JkXG4gKlxuICogQHBhcmFtIHJlY29yZCBGaXJzdCByZWNvcmQgdG8gbWVyZ2UuXG4gKiBAcGFyYW0gb3RoZXIgU2Vjb25kIHJlY29yZCB0byBtZXJnZS5cbiAqIEBwYXJhbSBvcHRpb25zIE1lcmdpbmcgb3B0aW9ucy5cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyByZWNvcmQgd2l0aCB0aGUgbWVyZ2VkIHZhbHVlcy5cbiAqXG4gKiBAZXhhbXBsZSBNZXJnZSBvYmplY3RzXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSBcIkBzdGQvY29sbGVjdGlvbnMvZGVlcC1tZXJnZVwiO1xuICogaW1wb3J0IHsgYXNzZXJ0RXF1YWxzIH0gZnJvbSBcIkBzdGQvYXNzZXJ0XCI7XG4gKlxuICogY29uc3QgYSA9IHsgZm9vOiB0cnVlIH07XG4gKiBjb25zdCBiID0geyBmb286IHsgYmFyOiB0cnVlIH0gfTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBkZWVwTWVyZ2UoYSwgYik7XG4gKlxuICogY29uc3QgZXhwZWN0ZWQgPSB7IGZvbzogeyBiYXI6IHRydWUgfSB9O1xuICpcbiAqIGFzc2VydEVxdWFscyhyZXN1bHQsIGV4cGVjdGVkKTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlIE1lcmdlIGFycmF5c1xuICogYGBgdHNcbiAqIGltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gXCJAc3RkL2NvbGxlY3Rpb25zL2RlZXAtbWVyZ2VcIjtcbiAqIGltcG9ydCB7IGFzc2VydEVxdWFscyB9IGZyb20gXCJAc3RkL2Fzc2VydFwiO1xuICpcbiAqIGNvbnN0IGEgPSB7IGZvbzogWzEsIDJdIH07XG4gKiBjb25zdCBiID0geyBmb286IFszLCA0XSB9O1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGRlZXBNZXJnZShhLCBiKTtcbiAqXG4gKiBjb25zdCBleHBlY3RlZCA9IHsgZm9vOiBbMSwgMiwgMywgNF0gfTtcbiAqXG4gKiBhc3NlcnRFcXVhbHMocmVzdWx0LCBleHBlY3RlZCk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZSBNZXJnZSBtYXBzXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSBcIkBzdGQvY29sbGVjdGlvbnMvZGVlcC1tZXJnZVwiO1xuICogaW1wb3J0IHsgYXNzZXJ0RXF1YWxzIH0gZnJvbSBcIkBzdGQvYXNzZXJ0XCI7XG4gKlxuICogY29uc3QgYSA9IHsgZm9vOiBuZXcgTWFwKFtbXCJhXCIsIDFdXSkgfTtcbiAqIGNvbnN0IGIgPSB7IGZvbzogbmV3IE1hcChbW1wiYlwiLCAyXV0pIH07XG4gKlxuICogY29uc3QgcmVzdWx0ID0gZGVlcE1lcmdlKGEsIGIpO1xuICpcbiAqIGNvbnN0IGV4cGVjdGVkID0geyBmb286IG5ldyBNYXAoW1tcImFcIiwgMV0sIFtcImJcIiwgMl1dKSB9O1xuICpcbiAqIGFzc2VydEVxdWFscyhyZXN1bHQsIGV4cGVjdGVkKTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlIE1lcmdlIHNldHNcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBkZWVwTWVyZ2UgfSBmcm9tIFwiQHN0ZC9jb2xsZWN0aW9ucy9kZWVwLW1lcmdlXCI7XG4gKiBpbXBvcnQgeyBhc3NlcnRFcXVhbHMgfSBmcm9tIFwiQHN0ZC9hc3NlcnRcIjtcbiAqXG4gKiBjb25zdCBhID0geyBmb286IG5ldyBTZXQoWzFdKSB9O1xuICogY29uc3QgYiA9IHsgZm9vOiBuZXcgU2V0KFsyXSkgfTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBkZWVwTWVyZ2UoYSwgYik7XG4gKlxuICogY29uc3QgZXhwZWN0ZWQgPSB7IGZvbzogbmV3IFNldChbMSwgMl0pIH07XG4gKlxuICogYXNzZXJ0RXF1YWxzKHJlc3VsdCwgZXhwZWN0ZWQpO1xuICogYGBgXG4gKlxuICogQGV4YW1wbGUgTWVyZ2Ugd2l0aCBjdXN0b20gb3B0aW9uc1xuICogYGBgdHNcbiAqIGltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gXCJAc3RkL2NvbGxlY3Rpb25zL2RlZXAtbWVyZ2VcIjtcbiAqIGltcG9ydCB7IGFzc2VydEVxdWFscyB9IGZyb20gXCJAc3RkL2Fzc2VydFwiO1xuICpcbiAqIGNvbnN0IGEgPSB7IGZvbzogWzEsIDJdIH07XG4gKiBjb25zdCBiID0geyBmb286IFszLCA0XSB9O1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGRlZXBNZXJnZShhLCBiLCB7IGFycmF5czogXCJyZXBsYWNlXCIgfSk7XG4gKlxuICogY29uc3QgZXhwZWN0ZWQgPSB7IGZvbzogWzMsIDRdIH07XG4gKlxuICogYXNzZXJ0RXF1YWxzKHJlc3VsdCwgZXhwZWN0ZWQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2U8XG4gIFQgZXh0ZW5kcyBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+LFxuPihcbiAgcmVjb3JkOiBQYXJ0aWFsPFJlYWRvbmx5PFQ+PixcbiAgb3RoZXI6IFBhcnRpYWw8UmVhZG9ubHk8VD4+LFxuICBvcHRpb25zPzogUmVhZG9ubHk8RGVlcE1lcmdlT3B0aW9ucz4sXG4pOiBUO1xuLyoqXG4gKiBNZXJnZXMgdGhlIHR3byBnaXZlbiByZWNvcmRzLCByZWN1cnNpdmVseSBtZXJnaW5nIGFueSBuZXN0ZWQgcmVjb3JkcyB3aXRoIHRoZVxuICogc2Vjb25kIGNvbGxlY3Rpb24gb3ZlcnJpZGluZyB0aGUgZmlyc3QgaW4gY2FzZSBvZiBjb25mbGljdC5cbiAqXG4gKiBGb3IgYXJyYXlzLCBtYXBzIGFuZCBzZXRzLCBhIG1lcmdpbmcgc3RyYXRlZ3kgY2FuIGJlIHNwZWNpZmllZCB0byBlaXRoZXJcbiAqIGByZXBsYWNlYCB2YWx1ZXMsIG9yIGBtZXJnZWAgdGhlbSBpbnN0ZWFkLlxuICpcbiAqIEB0eXBlUGFyYW0gVCBUeXBlIG9mIHRoZSBmaXJzdCByZWNvcmRcbiAqIEB0eXBlUGFyYW0gVSBUeXBlIG9mIHRoZSBzZWNvbmQgcmVjb3JkXG4gKiBAdHlwZVBhcmFtIE9wdGlvbnMgTWVyZ2luZyBvcHRpb25zXG4gKlxuICogQHBhcmFtIHJlY29yZCBGaXJzdCByZWNvcmQgdG8gbWVyZ2UuXG4gKiBAcGFyYW0gb3RoZXIgU2Vjb25kIHJlY29yZCB0byBtZXJnZS5cbiAqIEBwYXJhbSBvcHRpb25zIE1lcmdpbmcgb3B0aW9ucy5cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyByZWNvcmQgd2l0aCB0aGUgbWVyZ2VkIHZhbHVlcy5cbiAqXG4gKiBAZXhhbXBsZSBNZXJnZSBvYmplY3RzXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSBcIkBzdGQvY29sbGVjdGlvbnMvZGVlcC1tZXJnZVwiO1xuICogaW1wb3J0IHsgYXNzZXJ0RXF1YWxzIH0gZnJvbSBcIkBzdGQvYXNzZXJ0XCI7XG4gKlxuICogY29uc3QgYSA9IHsgZm9vOiB0cnVlIH07XG4gKiBjb25zdCBiID0geyBmb286IHsgYmFyOiB0cnVlIH0gfTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBkZWVwTWVyZ2UoYSwgYik7XG4gKlxuICogY29uc3QgZXhwZWN0ZWQgPSB7IGZvbzogeyBiYXI6IHRydWUgfSB9O1xuICpcbiAqIGFzc2VydEVxdWFscyhyZXN1bHQsIGV4cGVjdGVkKTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlIE1lcmdlIGFycmF5c1xuICogYGBgdHNcbiAqIGltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gXCJAc3RkL2NvbGxlY3Rpb25zL2RlZXAtbWVyZ2VcIjtcbiAqIGltcG9ydCB7IGFzc2VydEVxdWFscyB9IGZyb20gXCJAc3RkL2Fzc2VydFwiO1xuICpcbiAqIGNvbnN0IGEgPSB7IGZvbzogWzEsIDJdIH07XG4gKiBjb25zdCBiID0geyBmb286IFszLCA0XSB9O1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGRlZXBNZXJnZShhLCBiKTtcbiAqXG4gKiBjb25zdCBleHBlY3RlZCA9IHsgZm9vOiBbMSwgMiwgMywgNF0gfTtcbiAqXG4gKiBhc3NlcnRFcXVhbHMocmVzdWx0LCBleHBlY3RlZCk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZSBNZXJnZSBtYXBzXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSBcIkBzdGQvY29sbGVjdGlvbnMvZGVlcC1tZXJnZVwiO1xuICogaW1wb3J0IHsgYXNzZXJ0RXF1YWxzIH0gZnJvbSBcIkBzdGQvYXNzZXJ0XCI7XG4gKlxuICogY29uc3QgYSA9IHsgZm9vOiBuZXcgTWFwKFtbXCJhXCIsIDFdXSkgfTtcbiAqIGNvbnN0IGIgPSB7IGZvbzogbmV3IE1hcChbW1wiYlwiLCAyXV0pIH07XG4gKlxuICogY29uc3QgcmVzdWx0ID0gZGVlcE1lcmdlKGEsIGIpO1xuICpcbiAqIGNvbnN0IGV4cGVjdGVkID0geyBmb286IG5ldyBNYXAoW1tcImFcIiwgMV0sIFtcImJcIiwgMl1dKSB9O1xuICpcbiAqIGFzc2VydEVxdWFscyhyZXN1bHQsIGV4cGVjdGVkKTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlIE1lcmdlIHNldHNcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBkZWVwTWVyZ2UgfSBmcm9tIFwiQHN0ZC9jb2xsZWN0aW9ucy9kZWVwLW1lcmdlXCI7XG4gKiBpbXBvcnQgeyBhc3NlcnRFcXVhbHMgfSBmcm9tIFwiQHN0ZC9hc3NlcnRcIjtcbiAqXG4gKiBjb25zdCBhID0geyBmb286IG5ldyBTZXQoWzFdKSB9O1xuICogY29uc3QgYiA9IHsgZm9vOiBuZXcgU2V0KFsyXSkgfTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBkZWVwTWVyZ2UoYSwgYik7XG4gKlxuICogY29uc3QgZXhwZWN0ZWQgPSB7IGZvbzogbmV3IFNldChbMSwgMl0pIH07XG4gKlxuICogYXNzZXJ0RXF1YWxzKHJlc3VsdCwgZXhwZWN0ZWQpO1xuICogYGBgXG4gKlxuICogQGV4YW1wbGUgTWVyZ2Ugd2l0aCBjdXN0b20gb3B0aW9uc1xuICogYGBgdHNcbiAqIGltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gXCJAc3RkL2NvbGxlY3Rpb25zL2RlZXAtbWVyZ2VcIjtcbiAqIGltcG9ydCB7IGFzc2VydEVxdWFscyB9IGZyb20gXCJAc3RkL2Fzc2VydFwiO1xuICpcbiAqIGNvbnN0IGEgPSB7IGZvbzogWzEsIDJdIH07XG4gKiBjb25zdCBiID0geyBmb286IFszLCA0XSB9O1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGRlZXBNZXJnZShhLCBiLCB7IGFycmF5czogXCJyZXBsYWNlXCIgfSk7XG4gKlxuICogY29uc3QgZXhwZWN0ZWQgPSB7IGZvbzogWzMsIDRdIH07XG4gKlxuICogYXNzZXJ0RXF1YWxzKHJlc3VsdCwgZXhwZWN0ZWQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2U8XG4gIFQgZXh0ZW5kcyBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+LFxuICBVIGV4dGVuZHMgUmVjb3JkPFByb3BlcnR5S2V5LCB1bmtub3duPixcbiAgT3B0aW9ucyBleHRlbmRzIERlZXBNZXJnZU9wdGlvbnMsXG4+KFxuICByZWNvcmQ6IFJlYWRvbmx5PFQ+LFxuICBvdGhlcjogUmVhZG9ubHk8VT4sXG4gIG9wdGlvbnM/OiBSZWFkb25seTxPcHRpb25zPixcbik6IERlZXBNZXJnZTxULCBVLCBPcHRpb25zPjtcbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2U8XG4gIFQgZXh0ZW5kcyBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+LFxuICBVIGV4dGVuZHMgUmVjb3JkPFByb3BlcnR5S2V5LCB1bmtub3duPixcbiAgT3B0aW9ucyBleHRlbmRzIERlZXBNZXJnZU9wdGlvbnMgPSB7XG4gICAgYXJyYXlzOiBcIm1lcmdlXCI7XG4gICAgc2V0czogXCJtZXJnZVwiO1xuICAgIG1hcHM6IFwibWVyZ2VcIjtcbiAgfSxcbj4oXG4gIHJlY29yZDogUmVhZG9ubHk8VD4sXG4gIG90aGVyOiBSZWFkb25seTxVPixcbiAgb3B0aW9ucz86IFJlYWRvbmx5PE9wdGlvbnM+LFxuKTogRGVlcE1lcmdlPFQsIFUsIE9wdGlvbnM+IHtcbiAgcmV0dXJuIGRlZXBNZXJnZUludGVybmFsKFxuICAgIHJlY29yZCxcbiAgICBvdGhlcixcbiAgICBuZXcgU2V0KCksXG4gICAgb3B0aW9ucyA/PyBERUZBVUxUX09QVElPTlMgYXMgT3B0aW9ucyxcbiAgKTtcbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlSW50ZXJuYWw8XG4gIFQgZXh0ZW5kcyBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+LFxuICBVIGV4dGVuZHMgUmVjb3JkPFByb3BlcnR5S2V5LCB1bmtub3duPixcbiAgT3B0aW9ucyBleHRlbmRzIERlZXBNZXJnZU9wdGlvbnMgPSB7XG4gICAgYXJyYXlzOiBcIm1lcmdlXCI7XG4gICAgc2V0czogXCJtZXJnZVwiO1xuICAgIG1hcHM6IFwibWVyZ2VcIjtcbiAgfSxcbj4oXG4gIHJlY29yZDogUmVhZG9ubHk8VD4sXG4gIG90aGVyOiBSZWFkb25seTxVPixcbiAgc2VlbjogU2V0PE5vbk51bGxhYmxlPHVua25vd24+PixcbiAgb3B0aW9uczogUmVhZG9ubHk8T3B0aW9ucz4sXG4pIHtcbiAgLy8gRXh0cmFjdCBvcHRpb25zXG4gIC8vIENsb25lIGxlZnQgb3BlcmFuZCB0byBhdm9pZCBwZXJmb3JtaW5nIG11dGF0aW9ucyBpbi1wbGFjZVxuICB0eXBlIFJlc3VsdCA9IERlZXBNZXJnZTxULCBVLCBPcHRpb25zPjtcbiAgY29uc3QgcmVzdWx0OiBQYXJ0aWFsPFJlc3VsdD4gPSB7fTtcblxuICBjb25zdCBrZXlzID0gbmV3IFNldChbXG4gICAgLi4uZ2V0S2V5cyhyZWNvcmQpLFxuICAgIC4uLmdldEtleXMob3RoZXIpLFxuICBdKSBhcyBTZXQ8a2V5b2YgUmVzdWx0PjtcblxuICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBrZXkgb2Ygb3RoZXIgb2JqZWN0IGFuZCB1c2UgY29ycmVjdCBtZXJnaW5nIHN0cmF0ZWd5XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAvLyBTa2lwIHRvIHByZXZlbnQgT2JqZWN0LnByb3RvdHlwZS5fX3Byb3RvX18gYWNjZXNzb3IgcHJvcGVydHkgY2FsbHMgb24gbm9uLURlbm8gcGxhdGZvcm1zXG4gICAgaWYgKGtleSA9PT0gXCJfX3Byb3RvX19cIikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdHlwZSBSZXN1bHRNZW1iZXIgPSBSZXN1bHRbdHlwZW9mIGtleV07XG5cbiAgICBjb25zdCBhID0gcmVjb3JkW2tleV0gYXMgUmVzdWx0TWVtYmVyO1xuXG4gICAgaWYgKCFPYmplY3QuaGFzT3duKG90aGVyLCBrZXkpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGE7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGIgPSBvdGhlcltrZXldIGFzIFJlc3VsdE1lbWJlcjtcblxuICAgIGlmIChcbiAgICAgIGlzTm9uTnVsbE9iamVjdChhKSAmJiBpc05vbk51bGxPYmplY3QoYikgJiYgIXNlZW4uaGFzKGEpICYmICFzZWVuLmhhcyhiKVxuICAgICkge1xuICAgICAgc2Vlbi5hZGQoYSk7XG4gICAgICBzZWVuLmFkZChiKTtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2VPYmplY3RzKGEsIGIsIHNlZW4sIG9wdGlvbnMpIGFzIFJlc3VsdE1lbWJlcjtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgdmFsdWVcbiAgICByZXN1bHRba2V5XSA9IGI7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0IGFzIFJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VPYmplY3RzKFxuICBsZWZ0OiBSZWFkb25seTxOb25OdWxsYWJsZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4+LFxuICByaWdodDogUmVhZG9ubHk8Tm9uTnVsbGFibGU8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+PixcbiAgc2VlbjogU2V0PE5vbk51bGxhYmxlPHVua25vd24+PixcbiAgb3B0aW9uczogUmVhZG9ubHk8RGVlcE1lcmdlT3B0aW9ucz4sXG4pOiBSZWFkb25seTxOb25OdWxsYWJsZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IEl0ZXJhYmxlPHVua25vd24+Pj4ge1xuICAvLyBSZWN1cnNpdmVseSBtZXJnZSBtZXJnZWFibGUgb2JqZWN0c1xuICBpZiAoaXNNZXJnZWFibGUobGVmdCkgJiYgaXNNZXJnZWFibGUocmlnaHQpKSB7XG4gICAgcmV0dXJuIGRlZXBNZXJnZUludGVybmFsKGxlZnQsIHJpZ2h0LCBzZWVuLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChpc0l0ZXJhYmxlKGxlZnQpICYmIGlzSXRlcmFibGUocmlnaHQpKSB7XG4gICAgLy8gSGFuZGxlIGFycmF5c1xuICAgIGlmICgoQXJyYXkuaXNBcnJheShsZWZ0KSkgJiYgKEFycmF5LmlzQXJyYXkocmlnaHQpKSkge1xuICAgICAgaWYgKG9wdGlvbnMuYXJyYXlzID09PSBcIm1lcmdlXCIpIHtcbiAgICAgICAgcmV0dXJuIGxlZnQuY29uY2F0KHJpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJpZ2h0O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBtYXBzXG4gICAgaWYgKChsZWZ0IGluc3RhbmNlb2YgTWFwKSAmJiAocmlnaHQgaW5zdGFuY2VvZiBNYXApKSB7XG4gICAgICBpZiAob3B0aW9ucy5tYXBzID09PSBcIm1lcmdlXCIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IE1hcChsZWZ0KTtcbiAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgcmlnaHQpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGssIHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByaWdodDtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgc2V0c1xuICAgIGlmICgobGVmdCBpbnN0YW5jZW9mIFNldCkgJiYgKHJpZ2h0IGluc3RhbmNlb2YgU2V0KSkge1xuICAgICAgaWYgKG9wdGlvbnMuc2V0cyA9PT0gXCJtZXJnZVwiKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTZXQobGVmdCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiByaWdodCkge1xuICAgICAgICAgIHJlc3VsdC5hZGQodik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByaWdodDtcbn1cblxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSB2YWx1ZSBpcyBtZXJnZWFibGUgb3Igbm90XG4gKiBCdWlsdGlucyB0aGF0IGxvb2sgbGlrZSBvYmplY3RzLCBudWxsIGFuZCB1c2VyIGRlZmluZWQgY2xhc3Nlc1xuICogYXJlIG5vdCBjb25zaWRlcmVkIG1lcmdlYWJsZSAoaXQgbWVhbnMgdGhhdCByZWZlcmVuY2Ugd2lsbCBiZSBjb3BpZWQpXG4gKi9cbmZ1bmN0aW9uIGlzTWVyZ2VhYmxlKFxuICB2YWx1ZTogTm9uTnVsbGFibGU8dW5rbm93bj4sXG4pOiB2YWx1ZSBpcyBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+IHtcbiAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG5cbmZ1bmN0aW9uIGlzSXRlcmFibGUoXG4gIHZhbHVlOiBOb25OdWxsYWJsZTx1bmtub3duPixcbik6IHZhbHVlIGlzIEl0ZXJhYmxlPHVua25vd24+IHtcbiAgcmV0dXJuIHR5cGVvZiAodmFsdWUgYXMgSXRlcmFibGU8dW5rbm93bj4pW1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuZnVuY3Rpb24gaXNOb25OdWxsT2JqZWN0KFxuICB2YWx1ZTogdW5rbm93bixcbik6IHZhbHVlIGlzIE5vbk51bGxhYmxlPFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG59XG5cbmZ1bmN0aW9uIGdldEtleXM8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PihyZWNvcmQ6IFQpOiBBcnJheTxrZXlvZiBUPiB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZWNvcmQpIGFzIEFycmF5PGtleW9mIFQ+O1xuICBjb25zdCBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyZWNvcmQpO1xuXG4gIC8vIEZhc3QgcGF0aDogbW9zdCBvYmplY3RzIGhhdmUgbm8gc3ltYm9sIGtleXNcbiAgaWYgKHN5bWJvbHMubGVuZ3RoID09PSAwKSByZXR1cm4ga2V5cztcblxuICBmb3IgKGNvbnN0IHN5bSBvZiBzeW1ib2xzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyZWNvcmQsIHN5bSkpIHtcbiAgICAgIGtleXMucHVzaChzeW0gYXMga2V5b2YgVCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbi8qKiBNZXJnaW5nIHN0cmF0ZWd5ICovXG5leHBvcnQgdHlwZSBNZXJnaW5nU3RyYXRlZ3kgPSBcInJlcGxhY2VcIiB8IFwibWVyZ2VcIjtcblxuLyoqIE9wdGlvbnMgZm9yIHtAbGlua2NvZGUgZGVlcE1lcmdlfS4gKi9cbmV4cG9ydCB0eXBlIERlZXBNZXJnZU9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBNZXJnaW5nIHN0cmF0ZWd5IGZvciBhcnJheXNcbiAgICpcbiAgICogQGRlZmF1bHQge1wibWVyZ2VcIn1cbiAgICovXG4gIGFycmF5cz86IE1lcmdpbmdTdHJhdGVneTtcbiAgLyoqXG4gICAqIE1lcmdpbmcgc3RyYXRlZ3kgZm9yIG1hcHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IHtcIm1lcmdlXCJ9XG4gICAqL1xuICBtYXBzPzogTWVyZ2luZ1N0cmF0ZWd5O1xuICAvKipcbiAgICogTWVyZ2luZyBzdHJhdGVneSBmb3Igc2V0cy5cbiAgICpcbiAgICogQGRlZmF1bHQge1wibWVyZ2VcIn1cbiAgICovXG4gIHNldHM/OiBNZXJnaW5nU3RyYXRlZ3k7XG59O1xuXG4vKipcbiAqIEhvdyBkb2VzIHJlY3Vyc2l2ZSB0eXBpbmcgd29ya3MgP1xuICpcbiAqIERlZXAgbWVyZ2luZyBwcm9jZXNzIGlzIGhhbmRsZWQgdGhyb3VnaCBgRGVlcE1lcmdlPFQsIFUsIE9wdGlvbnM+YCB0eXBlLlxuICogSWYgYm90aCBUIGFuZCBVIGFyZSBSZWNvcmRzLCB3ZSByZWN1cnNpdmVseSBtZXJnZSB0aGVtLFxuICogZWxzZSB3ZSB0cmVhdCB0aGVtIGFzIHByaW1pdGl2ZXMuXG4gKlxuICogTWVyZ2luZyBwcm9jZXNzIGlzIGhhbmRsZWQgdGhyb3VnaCBgTWVyZ2U8VCwgVT5gIHR5cGUsIGluIHdoaWNoXG4gKiB3ZSByZW1vdmUgYWxsIG1hcHMsIHNldHMsIGFycmF5cyBhbmQgcmVjb3JkcyBzbyB3ZSBjYW4gaGFuZGxlIHRoZW1cbiAqIHNlcGFyYXRlbHkgZGVwZW5kaW5nIG9uIG1lcmdpbmcgc3RyYXRlZ3k6XG4gKlxuICogICAgTWVyZ2U8XG4gKiAgICAgIHtmb286IHN0cmluZ30sXG4gKiAgICAgIHtiYXI6IHN0cmluZywgYmF6OiBTZXQ8dW5rbm93bj59LFxuICogICAgPiAvLyBcImZvb1wiIGFuZCBcImJhclwiIHdpbGwgYmUgaGFuZGxlZCB3aXRoIGBNZXJnZVJpZ2h0T21pdENvbXBsZXhlc2BcbiAqICAgICAgLy8gXCJiYXpcIiB3aWxsIGJlIGhhbmRsZWQgd2l0aCBgTWVyZ2VBbGwqYCB0eXBlXG4gKlxuICogYE1lcmdlUmlnaHRPbWl0Q29tcGxleGVzPFQsIFU+YCB3aWxsIGRvIHRoZSBhYm92ZTogYWxsIFQnc1xuICogZXhjbHVzaXZlIGtleXMgd2lsbCBiZSBrZXB0LCB0aG91Z2ggY29tbW9uIG9uZXMgd2l0aCBVIHdpbGwgaGF2ZSB0aGVpclxuICogdHlwaW5nIG92ZXJyaWRkZW4gaW5zdGVhZDpcbiAqXG4gKiAgICBNZXJnZVJpZ2h0T21pdENvbXBsZXhlczxcbiAqICAgICAge2Zvbzogc3RyaW5nLCBiYXo6IG51bWJlcn0sXG4gKiAgICAgIHtmb286IGJvb2xlYW4sIGJhcjogc3RyaW5nfVxuICogICAgPiAvLyB7YmF6OiBudW1iZXIsIGZvbzogYm9vbGVhbiwgYmFyOiBzdHJpbmd9XG4gKiAgICAgIC8vIFwiYmF6XCIgd2FzIGtlcHQgZnJvbSBUXG4gKiAgICAgIC8vIFwiZm9vXCIgd2FzIG92ZXJyaWRkZW4gYnkgVSdzIHR5cGluZ1xuICogICAgICAvLyBcImJhclwiIHdhcyBhZGRlZCBmcm9tIFVcbiAqXG4gKiBGb3IgTWFwcywgQXJyYXlzLCBTZXRzIGFuZCBSZWNvcmRzLCB3ZSB1c2UgYE1lcmdlQWxsKjxULCBVPmAgdXRpbGl0eVxuICogdHlwZXMuIFRoZXkgd2lsbCBleHRyYWN0IHJlbGV2YW50IGRhdGEgc3RydWN0dXJlIGZyb20gYm90aCBUIGFuZCBVXG4gKiAocHJvdmlkaW5nIHRoYXQgYm90aCBoYXZlIHNhbWUgZGF0YSBkYXRhIHN0cnVjdHVyZSwgZXhjZXB0IGZvciB0eXBpbmcpLlxuICpcbiAqIEZyb20gdGhlc2UsIGAqVmFsdWVUeXBlPFQ+YCB3aWxsIGV4dHJhY3QgdmFsdWVzIChhbmQga2V5cykgdHlwZXMgdG8gYmVcbiAqIGFibGUgdG8gY3JlYXRlIGEgbmV3IGRhdGEgc3RydWN0dXJlIHdpdGggYW4gdW5pb24gdHlwaW5nIGZyb20gYm90aFxuICogZGF0YSBzdHJ1Y3R1cmUgb2YgVCBhbmQgVTpcbiAqXG4gKiAgICBNZXJnZUFsbFNldHM8XG4gKiAgICAgIHtmb286IFNldDxudW1iZXI+fSxcbiAqICAgICAge2ZvbzogU2V0PHN0cmluZz59XG4gKiAgICA+IC8vIGBTZXRWYWx1ZVR5cGVgIHdpbGwgZXh0cmFjdCBcIm51bWJlclwiIGZvciBUXG4gKiAgICAgIC8vIGBTZXRWYWx1ZVR5cGVgIHdpbGwgZXh0cmFjdCBcInN0cmluZ1wiIGZvciBVXG4gKiAgICAgIC8vIGBNZXJnZUFsbFNldHNgIHdpbGwgaW5mZXIgdHlwZSBhcyBTZXQ8bnVtYmVyfHN0cmluZz5cbiAqICAgICAgLy8gUHJvY2VzcyBpcyBzaW1pbGFyIGZvciBNYXBzLCBBcnJheXMsIGFuZCBTZXRzXG4gKlxuICogYERlZXBNZXJnZTxULCBVLCBPcHRpb25zPmAgaXMgdGFraW5nIGEgdGhpcmQgYXJndW1lbnQgdG8gYmUgaGFuZGxlIHRvXG4gKiBpbmZlciBmaW5hbCB0eXBpbmcgZGVwZW5kaW5nIG9uIG1lcmdpbmcgc3RyYXRlZ3k6XG4gKlxuICogICAgJiAoT3B0aW9ucyBleHRlbmRzIHsgc2V0czogXCJyZXBsYWNlXCIgfSA/IFBhcnRpYWxCeVR5cGU8VSwgU2V0PHVua25vd24+PlxuICogICAgICA6IE1lcmdlQWxsU2V0czxULCBVPilcbiAqXG4gKiBJbiB0aGUgYWJvdmUgbGluZSwgaWYgXCJPcHRpb25zXCIgaGF2ZSBpdHMgbWVyZ2luZyBzdHJhdGVneSBmb3IgU2V0cyBzZXQgdG9cbiAqIFwicmVwbGFjZVwiLCBpbnN0ZWFkIG9mIHBlcmZvcm1pbmcgbWVyZ2luZyBvZiBTZXRzIHR5cGUsIGl0IHdpbGwgdGFrZSB0aGVcbiAqIHR5cGluZyBmcm9tIHJpZ2h0IG9wZXJhbmQgKFUpIGluc3RlYWQsIGVmZmVjdGl2ZWx5IHJlcGxhY2luZyB0aGUgdHlwaW5nLlxuICpcbiAqIEFuIGFkZGl0aW9uYWwgbm90ZSwgd2UgdXNlIGBFeHBhbmRSZWN1cnNpdmVseTxUPmAgdXRpbGl0eSB0eXBlIHRvIGV4cGFuZFxuICogdGhlIHJlc3VsdGluZyB0eXBpbmcgYW5kIGhpZGUgYWxsIHRoZSB0eXBpbmcgbG9naWMgb2YgZGVlcCBtZXJnaW5nIHNvIGl0IGlzXG4gKiBtb3JlIHVzZXIgZnJpZW5kbHkuXG4gKi9cblxuLyoqIEZvcmNlIGludGVsbGlzZW5zZSB0byBleHBhbmQgdGhlIHR5cGluZyB0byBoaWRlIG1lcmdpbmcgdHlwaW5ncyAqL1xuZXhwb3J0IHR5cGUgRXhwYW5kUmVjdXJzaXZlbHk8VD4gPSBUIGV4dGVuZHMgUmVjb3JkPFByb3BlcnR5S2V5LCB1bmtub3duPlxuICA/IFQgZXh0ZW5kcyBpbmZlciBPID8geyBbSyBpbiBrZXlvZiBPXTogRXhwYW5kUmVjdXJzaXZlbHk8T1tLXT4gfSA6IG5ldmVyXG4gIDogVDtcblxuLyoqIEZpbHRlciBvZiBrZXlzIG1hdGNoaW5nIGEgZ2l2ZW4gdHlwZSAqL1xuZXhwb3J0IHR5cGUgUGFydGlhbEJ5VHlwZTxULCBVPiA9IHtcbiAgW0sgaW4ga2V5b2YgVCBhcyBUW0tdIGV4dGVuZHMgVSA/IEsgOiBuZXZlcl06IFRbS107XG59O1xuXG4vKiogR2V0IHNldCB2YWx1ZXMgdHlwZSAqL1xuZXhwb3J0IHR5cGUgU2V0VmFsdWVUeXBlPFQ+ID0gVCBleHRlbmRzIFNldDxpbmZlciBWPiA/IFYgOiBuZXZlcjtcblxuLyoqIE1lcmdlIGFsbCBzZXRzIHR5cGVzIGRlZmluaXRpb25zIGZyb20ga2V5cyBwcmVzZW50IGluIGJvdGggb2JqZWN0cyAqL1xuZXhwb3J0IHR5cGUgTWVyZ2VBbGxTZXRzPFxuICBULFxuICBVLFxuICBYID0gUGFydGlhbEJ5VHlwZTxULCBTZXQ8dW5rbm93bj4+LFxuICBZID0gUGFydGlhbEJ5VHlwZTxVLCBTZXQ8dW5rbm93bj4+LFxuICBaID0ge1xuICAgIFtLIGluIGtleW9mIFggJiBrZXlvZiBZXTogU2V0PFNldFZhbHVlVHlwZTxYW0tdPiB8IFNldFZhbHVlVHlwZTxZW0tdPj47XG4gIH0sXG4+ID0gWjtcblxuLyoqIEdldCBhcnJheSB2YWx1ZXMgdHlwZSAqL1xuZXhwb3J0IHR5cGUgQXJyYXlWYWx1ZVR5cGU8VD4gPSBUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVj4gPyBWIDogbmV2ZXI7XG5cbi8qKiBNZXJnZSBhbGwgYXJyYXlzIHR5cGVzIGRlZmluaXRpb25zIGZyb20ga2V5cyBwcmVzZW50IGluIGJvdGggb2JqZWN0cyAqL1xuZXhwb3J0IHR5cGUgTWVyZ2VBbGxBcnJheXM8XG4gIFQsXG4gIFUsXG4gIFggPSBQYXJ0aWFsQnlUeXBlPFQsIEFycmF5PHVua25vd24+PixcbiAgWSA9IFBhcnRpYWxCeVR5cGU8VSwgQXJyYXk8dW5rbm93bj4+LFxuICBaID0ge1xuICAgIFtLIGluIGtleW9mIFggJiBrZXlvZiBZXTogQXJyYXk8XG4gICAgICBBcnJheVZhbHVlVHlwZTxYW0tdPiB8IEFycmF5VmFsdWVUeXBlPFlbS10+XG4gICAgPjtcbiAgfSxcbj4gPSBaO1xuXG4vKiogR2V0IG1hcCB2YWx1ZXMgdHlwZXMgKi9cbmV4cG9ydCB0eXBlIE1hcEtleVR5cGU8VD4gPSBUIGV4dGVuZHMgTWFwPGluZmVyIEssIHVua25vd24+ID8gSyA6IG5ldmVyO1xuXG4vKiogR2V0IG1hcCB2YWx1ZXMgdHlwZXMgKi9cbmV4cG9ydCB0eXBlIE1hcFZhbHVlVHlwZTxUPiA9IFQgZXh0ZW5kcyBNYXA8dW5rbm93biwgaW5mZXIgVj4gPyBWIDogbmV2ZXI7XG5cbi8qKiBNZXJnZSBhbGwgbWFwcyB0eXBlcyBkZWZpbml0aW9ucyBmcm9tIGtleXMgcHJlc2VudCBpbiBib3RoIG9iamVjdHMgKi9cbmV4cG9ydCB0eXBlIE1lcmdlQWxsTWFwczxcbiAgVCxcbiAgVSxcbiAgWCA9IFBhcnRpYWxCeVR5cGU8VCwgTWFwPHVua25vd24sIHVua25vd24+PixcbiAgWSA9IFBhcnRpYWxCeVR5cGU8VSwgTWFwPHVua25vd24sIHVua25vd24+PixcbiAgWiA9IHtcbiAgICBbSyBpbiBrZXlvZiBYICYga2V5b2YgWV06IE1hcDxcbiAgICAgIE1hcEtleVR5cGU8WFtLXT4gfCBNYXBLZXlUeXBlPFlbS10+LFxuICAgICAgTWFwVmFsdWVUeXBlPFhbS10+IHwgTWFwVmFsdWVUeXBlPFlbS10+XG4gICAgPjtcbiAgfSxcbj4gPSBaO1xuXG4vKiogTWVyZ2UgYWxsIHJlY29yZHMgdHlwZXMgZGVmaW5pdGlvbnMgZnJvbSBrZXlzIHByZXNlbnQgaW4gYm90aCBvYmplY3RzICovXG5leHBvcnQgdHlwZSBNZXJnZUFsbFJlY29yZHM8XG4gIFQsXG4gIFUsXG4gIE9wdGlvbnMsXG4gIFggPSBQYXJ0aWFsQnlUeXBlPFQsIFJlY29yZDxQcm9wZXJ0eUtleSwgdW5rbm93bj4+LFxuICBZID0gUGFydGlhbEJ5VHlwZTxVLCBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+PixcbiAgWiA9IHtcbiAgICBbSyBpbiBrZXlvZiBYICYga2V5b2YgWV06IERlZXBNZXJnZTxYW0tdLCBZW0tdLCBPcHRpb25zPjtcbiAgfSxcbj4gPSBaO1xuXG4vKiogRXhjbHVkZSBtYXAsIHNldHMgYW5kIGFycmF5IGZyb20gdHlwZSAqL1xuZXhwb3J0IHR5cGUgT21pdENvbXBsZXhlczxUPiA9IE9taXQ8XG4gIFQsXG4gIGtleW9mIFBhcnRpYWxCeVR5cGU8XG4gICAgVCxcbiAgICB8IE1hcDx1bmtub3duLCB1bmtub3duPlxuICAgIHwgU2V0PHVua25vd24+XG4gICAgfCBBcnJheTx1bmtub3duPlxuICAgIHwgUmVjb3JkPFByb3BlcnR5S2V5LCB1bmtub3duPlxuICA+XG4+O1xuXG4vKiogT2JqZWN0IHdpdGgga2V5cyBpbiBlaXRoZXIgVCBvciBVIGJ1dCBub3QgaW4gYm90aCAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0WG9yS2V5czxcbiAgVCxcbiAgVSxcbiAgWCA9IE9taXQ8VCwga2V5b2YgVT4gJiBPbWl0PFUsIGtleW9mIFQ+LFxuICBZID0geyBbSyBpbiBrZXlvZiBYXTogWFtLXSB9LFxuPiA9IFk7XG5cbi8qKiBNZXJnZSB0d28gb2JqZWN0cywgd2l0aCBsZWZ0IHByZWNlZGVuY2UgKi9cbmV4cG9ydCB0eXBlIE1lcmdlUmlnaHRPbWl0Q29tcGxleGVzPFxuICBULFxuICBVLFxuICBYID0gT2JqZWN0WG9yS2V5czxULCBVPiAmIE9taXRDb21wbGV4ZXM8eyBbSyBpbiBrZXlvZiBVXTogVVtLXSB9Pixcbj4gPSBYO1xuXG4vKiogTWVyZ2UgdHdvIG9iamVjdHMgKi9cbmV4cG9ydCB0eXBlIE1lcmdlPFxuICBULFxuICBVLFxuICBPcHRpb25zLFxuICBYID1cbiAgICAmIE1lcmdlUmlnaHRPbWl0Q29tcGxleGVzPFQsIFU+XG4gICAgJiBNZXJnZUFsbFJlY29yZHM8VCwgVSwgT3B0aW9ucz5cbiAgICAmIChPcHRpb25zIGV4dGVuZHMgeyBzZXRzOiBcInJlcGxhY2VcIiB9ID8gUGFydGlhbEJ5VHlwZTxVLCBTZXQ8dW5rbm93bj4+XG4gICAgICA6IE1lcmdlQWxsU2V0czxULCBVPilcbiAgICAmIChPcHRpb25zIGV4dGVuZHMgeyBhcnJheXM6IFwicmVwbGFjZVwiIH0gPyBQYXJ0aWFsQnlUeXBlPFUsIEFycmF5PHVua25vd24+PlxuICAgICAgOiBNZXJnZUFsbEFycmF5czxULCBVPilcbiAgICAmIChPcHRpb25zIGV4dGVuZHMgeyBtYXBzOiBcInJlcGxhY2VcIiB9XG4gICAgICA/IFBhcnRpYWxCeVR5cGU8VSwgTWFwPHVua25vd24sIHVua25vd24+PlxuICAgICAgOiBNZXJnZUFsbE1hcHM8VCwgVT4pLFxuPiA9IEV4cGFuZFJlY3Vyc2l2ZWx5PFg+O1xuXG4vKiogTWVyZ2UgZGVlcGx5IHR3byBvYmplY3RzICovXG5leHBvcnQgdHlwZSBEZWVwTWVyZ2U8XG4gIFQsXG4gIFUsXG4gIE9wdGlvbnMgPSBSZWNvcmQ8c3RyaW5nLCBNZXJnaW5nU3RyYXRlZ3k+LFxuPiA9XG4gIC8vIEhhbmRsZSBvYmplY3RzXG4gIFtULCBVXSBleHRlbmRzIFtSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+LCBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+XVxuICAgID8gTWVyZ2U8VCwgVSwgT3B0aW9ucz5cbiAgICAvLyBIYW5kbGUgcHJpbWl0aXZlc1xuICAgIDogVCB8IFU7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscURBQXFEO0FBQ3JELHFDQUFxQztBQUVyQyw2RUFBNkUsR0FDN0UsTUFBTSxrQkFBb0M7RUFDeEMsUUFBUTtFQUNSLE1BQU07RUFDTixNQUFNO0FBQ1I7QUF3TUEsT0FBTyxTQUFTLFVBU2QsTUFBbUIsRUFDbkIsS0FBa0IsRUFDbEIsT0FBMkI7RUFFM0IsT0FBTyxrQkFDTCxRQUNBLE9BQ0EsSUFBSSxPQUNKLFdBQVc7QUFFZjtBQUVBLFNBQVMsa0JBU1AsTUFBbUIsRUFDbkIsS0FBa0IsRUFDbEIsSUFBK0IsRUFDL0IsT0FBMEI7RUFLMUIsTUFBTSxTQUEwQixDQUFDO0VBRWpDLE1BQU0sT0FBTyxJQUFJLElBQUk7T0FDaEIsUUFBUTtPQUNSLFFBQVE7R0FDWjtFQUVELDRFQUE0RTtFQUM1RSxLQUFLLE1BQU0sT0FBTyxLQUFNO0lBQ3RCLDJGQUEyRjtJQUMzRixJQUFJLFFBQVEsYUFBYTtNQUN2QjtJQUNGO0lBSUEsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJO0lBRXJCLElBQUksQ0FBQyxPQUFPLE1BQU0sQ0FBQyxPQUFPLE1BQU07TUFDOUIsTUFBTSxDQUFDLElBQUksR0FBRztNQUVkO0lBQ0Y7SUFFQSxNQUFNLElBQUksS0FBSyxDQUFDLElBQUk7SUFFcEIsSUFDRSxnQkFBZ0IsTUFBTSxnQkFBZ0IsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUN0RTtNQUNBLEtBQUssR0FBRyxDQUFDO01BQ1QsS0FBSyxHQUFHLENBQUM7TUFDVCxNQUFNLENBQUMsSUFBSSxHQUFHLGFBQWEsR0FBRyxHQUFHLE1BQU07TUFFdkM7SUFDRjtJQUVBLGlCQUFpQjtJQUNqQixNQUFNLENBQUMsSUFBSSxHQUFHO0VBQ2hCO0VBRUEsT0FBTztBQUNUO0FBRUEsU0FBUyxhQUNQLElBQW9ELEVBQ3BELEtBQXFELEVBQ3JELElBQStCLEVBQy9CLE9BQW1DO0VBRW5DLHNDQUFzQztFQUN0QyxJQUFJLFlBQVksU0FBUyxZQUFZLFFBQVE7SUFDM0MsT0FBTyxrQkFBa0IsTUFBTSxPQUFPLE1BQU07RUFDOUM7RUFFQSxJQUFJLFdBQVcsU0FBUyxXQUFXLFFBQVE7SUFDekMsZ0JBQWdCO0lBQ2hCLElBQUksQUFBQyxNQUFNLE9BQU8sQ0FBQyxTQUFXLE1BQU0sT0FBTyxDQUFDLFFBQVM7TUFDbkQsSUFBSSxRQUFRLE1BQU0sS0FBSyxTQUFTO1FBQzlCLE9BQU8sS0FBSyxNQUFNLENBQUM7TUFDckI7TUFFQSxPQUFPO0lBQ1Q7SUFFQSxjQUFjO0lBQ2QsSUFBSSxBQUFDLGdCQUFnQixPQUFTLGlCQUFpQixLQUFNO01BQ25ELElBQUksUUFBUSxJQUFJLEtBQUssU0FBUztRQUM1QixNQUFNLFNBQVMsSUFBSSxJQUFJO1FBQ3ZCLEtBQUssTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLE1BQU87VUFDMUIsT0FBTyxHQUFHLENBQUMsR0FBRztRQUNoQjtRQUNBLE9BQU87TUFDVDtNQUVBLE9BQU87SUFDVDtJQUVBLGNBQWM7SUFDZCxJQUFJLEFBQUMsZ0JBQWdCLE9BQVMsaUJBQWlCLEtBQU07TUFDbkQsSUFBSSxRQUFRLElBQUksS0FBSyxTQUFTO1FBQzVCLE1BQU0sU0FBUyxJQUFJLElBQUk7UUFDdkIsS0FBSyxNQUFNLEtBQUssTUFBTztVQUNyQixPQUFPLEdBQUcsQ0FBQztRQUNiO1FBQ0EsT0FBTztNQUNUO01BRUEsT0FBTztJQUNUO0VBQ0Y7RUFFQSxPQUFPO0FBQ1Q7QUFFQTs7OztDQUlDLEdBQ0QsU0FBUyxZQUNQLEtBQTJCO0VBRTNCLE9BQU8sT0FBTyxjQUFjLENBQUMsV0FBVyxPQUFPLFNBQVM7QUFDMUQ7QUFFQSxTQUFTLFdBQ1AsS0FBMkI7RUFFM0IsT0FBTyxPQUFPLEFBQUMsS0FBMkIsQ0FBQyxPQUFPLFFBQVEsQ0FBQyxLQUFLO0FBQ2xFO0FBRUEsU0FBUyxnQkFDUCxLQUFjO0VBRWQsT0FBTyxVQUFVLFFBQVEsT0FBTyxVQUFVO0FBQzVDO0FBRUEsU0FBUyxRQUEyQyxNQUFTO0VBQzNELE1BQU0sT0FBTyxPQUFPLElBQUksQ0FBQztFQUN6QixNQUFNLFVBQVUsT0FBTyxxQkFBcUIsQ0FBQztFQUU3Qyw4Q0FBOEM7RUFDOUMsSUFBSSxRQUFRLE1BQU0sS0FBSyxHQUFHLE9BQU87RUFFakMsS0FBSyxNQUFNLE9BQU8sUUFBUztJQUN6QixJQUFJLE9BQU8sU0FBUyxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxRQUFRLE1BQU07TUFDM0QsS0FBSyxJQUFJLENBQUM7SUFDWjtFQUNGO0VBRUEsT0FBTztBQUNUIn0=
// denoCacheMetadata=892140479713744708,6287250852512110960
