// Copyright 2018-2025 the Deno authors. MIT license.
// This module is browser compatible.

import { parserFactory, toml } from "./_parser.ts";

/**
 * Parses a {@link https://toml.io | TOML} string into an object.
 *
 * @example Usage
 * ```ts
 * import { parse } from "@std/toml/parse";
 * import { assertEquals } from "@std/assert";
 *
 * const tomlString = `title = "TOML Example"
 * [owner]
 * name = "Alice"
 * bio = "Alice is a programmer."`;
 *
 * const obj = parse(tomlString);
 * assertEquals(obj, { title: "TOML Example", owner: { name: "Alice", bio: "Alice is a programmer." } });
 * ```
 * @param tomlString TOML string to be parsed.
 * @returns The parsed JS object.
 */
export function parse(tomlString: string): Record<string, unknown> {
  return parserFactory(toml)(tomlString);
}

// denoCacheMetadata={"headers":{"x-goog-metageneration":"1","content-security-policy":"default-src 'none'; script-src 'none'; style-src 'none'; img-src 'none'; font-src 'none'; connect-src 'none'; frame-src 'none'; object-src 'none'; frame-ancestors 'none'; sandbox; form-action 'none';","x-goog-generation":"1759822318883319","x-goog-storage-class":"STANDARD","cf-cache-status":"DYNAMIC","content-length":"799","x-goog-stored-content-encoding":"identity","accept-ranges":"bytes","x-guploader-uploadid":"AJRbA5U4k2-FCVejRZhnr1g2HnQH4j0DCgXd6kaR_h2pzKqAVaghLKmcl9zi0dnzRA_BERFczcjPLVY","access-control-expose-headers":"*","age":"0","x-goog-stored-content-length":"799","expires":"Wed, 03 Feb 2027 07:31:23 GMT","x-goog-hash":"crc32c=X3IxVQ==,md5=W8DVplrLfRgBLND3vE2zog==","cache-control":"public, max-age=31536000, immutable","report-to":"{\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://a.nel.cloudflare.com/report/v4?s=SkeCDsr%2FtUkI83A66VkPALCDzMVp6yDHlML%2BGpT5mwXKUeHEZki1tGXBlqH5Rh0Jr2dTwVqGJjdpxoB838YR64OJac12cg%3D%3D\"}]}","x-content-type-options":"nosniff","cf-ray":"9c803a78fdc7c4ef-HEL","alt-svc":"h3=\":443\"; ma=86400","content-type":"text/typescript","last-modified":"Tue, 07 Oct 2025 07:31:58 GMT","nel":"{\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}","server":"cloudflare","etag":"\"5bc0d5a65acb7d18012cd0f7bc4db3a2\"","vary":"Origin, accept-encoding","date":"Tue, 03 Feb 2026 07:31:23 GMT","access-control-allow-origin":"*","x-jsr-backend":"modules","cross-origin-resource-policy":"cross-origin","x-robots-tag":"noindex"},"url":"https://jsr.io/@std/toml/1.0.11/parse.ts","time":1770103884}